{"version":3,"sources":["main.js"],"names":["field","document","querySelector","fieldRect","getBoundingClientRect","heroWidth","heroHeight","gameBtn","gameTimer","gameScore","ironManCount","gameDuration","popUp","popupMessage","popupRefresh","started","timer","undefined","score","addEventListener","startGame","stopGame","settingGame","showStopBtn","showTimeAndScore","startGameTimer","stopGameTimer","hideGameBtn","showPopupWidthText","onfieldClick","hidePopup","innerHTML","innerText","addItem","className","count","imgPath","x1","y1","x2","width","y2","height","i","item","createElement","setAttribute","style","position","x","randomNumber","y","left","top","appendChild","min","max","Math","random","icon","classList","add","remove","visibility","remainingTimeSec","updateTimerText","setInterval","clearInterval","finishGame","time","minutes","floor","seconds","text","event","target","matches","updateScore","win"],"mappings":"AAAA;;AAEA,IAAMA,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAd;AACA,IAAMC,SAAS,GAAGH,KAAK,CAACI,qBAAN,EAAlB;AACA,IAAMC,SAAS,GAAG,EAAlB;AACA,IAAMC,UAAU,GAAG,GAAnB;AACA,IAAMC,OAAO,GAAGN,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAhB;AACA,IAAMM,SAAS,GAAGP,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAlB;AACA,IAAMO,SAAS,GAAGR,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAlB;AACA,IAAMQ,YAAY,GAAG,CAArB;AACA,IAAMC,YAAY,GAAG,CAArB;AACA,IAAMC,KAAK,GAAGX,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAd;AACA,IAAMW,YAAY,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAArB;AACA,IAAMY,YAAY,GAAGb,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAArB;AAEA,IAAIa,OAAO,GAAG,KAAd,EAAqB;;AACrB,IAAIC,KAAK,GAAGC,SAAZ,EAAuB;;AACvB,IAAIC,KAAK,GAAG,CAAZ,EAAe;;AAEfX,OAAO,CAACY,gBAAR,CAAyB,OAAzB,EAAkC,YAAM;AACtC;AACA;AACA,MAAI,CAACJ,OAAL,EAAc;AACZK,IAAAA,SAAS;AACV,GAFD,MAEO,IAAIL,OAAJ,EAAa;AAClBM,IAAAA,QAAQ;AACT;AACF,CARD,GAUA;;AACA,SAASD,SAAT,GAAqB;AACnBE,EAAAA,WAAW;AACXC,EAAAA,WAAW;AACXC,EAAAA,gBAAgB;AAChBC,EAAAA,cAAc;AACdV,EAAAA,OAAO,GAAG,IAAV;AACD,EAED;;;AACA,SAASM,QAAT,GAAoB;AAClBK,EAAAA,aAAa;AACbC,EAAAA,WAAW;AACXC,EAAAA,kBAAkB,CAAC,SAAD,CAAlB;AACAb,EAAAA,OAAO,GAAG,KAAV;AACD,EAED;;;AACAf,KAAK,CAACmB,gBAAN,CAAuB,OAAvB,EAAgCU,YAAhC,GAEA;;AACAf,YAAY,CAACK,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CC,EAAAA,SAAS;AACTU,EAAAA,SAAS;AACV,CAHD;;AAKA,SAASR,WAAT,GAAuB;AACrBJ,EAAAA,KAAK,GAAG,CAAR;AACAlB,EAAAA,KAAK,CAAC+B,SAAN,GAAkB,EAAlB;AACAtB,EAAAA,SAAS,CAACuB,SAAV,GAAsBtB,YAAtB;AACAuB,EAAAA,OAAO,CAAC,SAAD,EAAYvB,YAAZ,EAA0B,sBAA1B,CAAP;AACAuB,EAAAA,OAAO,CAAC,MAAD,EAAS,CAAT,EAAY,6BAAZ,CAAP;AACAA,EAAAA,OAAO,CAAC,MAAD,EAAS,CAAT,EAAY,wBAAZ,CAAP;AACAA,EAAAA,OAAO,CAAC,MAAD,EAAS,CAAT,EAAY,mBAAZ,CAAP;AACD;;AAED,SAASA,OAAT,CAAiBC,SAAjB,EAA4BC,KAA5B,EAAmCC,OAAnC,EAA4C;AAC1C,MAAMC,EAAE,GAAG,CAAX;AACA,MAAMC,EAAE,GAAG,CAAX;AACA,MAAMC,EAAE,GAAGpC,SAAS,CAACqC,KAAV,GAAkBnC,SAA7B;AACA,MAAMoC,EAAE,GAAGtC,SAAS,CAACuC,MAAV,GAAmBpC,UAA9B;;AACA,OAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,KAApB,EAA2BQ,CAAC,EAA5B,EAAgC;AAC9B,QAAMC,IAAI,GAAG3C,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAb;AACAD,IAAAA,IAAI,CAACE,YAAL,CAAkB,OAAlB,EAA2BZ,SAA3B;AACAU,IAAAA,IAAI,CAACE,YAAL,CAAkB,KAAlB,EAAyBV,OAAzB;AACAQ,IAAAA,IAAI,CAACG,KAAL,CAAWC,QAAX,GAAsB,UAAtB;AACA,QAAMC,CAAC,GAAGC,YAAY,CAACb,EAAD,EAAKE,EAAL,CAAtB;AACA,QAAMY,CAAC,GAAGD,YAAY,CAACZ,EAAD,EAAKG,EAAL,CAAtB;AACAG,IAAAA,IAAI,CAACG,KAAL,CAAWK,IAAX,aAAqBH,CAArB;AACAL,IAAAA,IAAI,CAACG,KAAL,CAAWM,GAAX,aAAoBF,CAApB;AACAnD,IAAAA,KAAK,CAACsD,WAAN,CAAkBV,IAAlB;AACD;AACF;;AAED,SAASM,YAAT,CAAsBK,GAAtB,EAA2BC,GAA3B,EAAgC;AAC9B,SAAOC,IAAI,CAACC,MAAL,MAAiBF,GAAG,GAAGD,GAAvB,IAA8BA,GAArC;AACD;;AAED,SAAShC,WAAT,GAAuB;AACrB,MAAMoC,IAAI,GAAG1D,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;AACAyD,EAAAA,IAAI,CAACC,SAAL,CAAeC,GAAf,CAAmB,SAAnB;AACAF,EAAAA,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsB,SAAtB;AACAvD,EAAAA,OAAO,CAACwC,KAAR,CAAcgB,UAAd,GAA2B,SAA3B;AACD;;AAED,SAASvC,gBAAT,GAA4B;AAC1BhB,EAAAA,SAAS,CAACuC,KAAV,CAAgBgB,UAAhB,GAA6B,SAA7B;AACAtD,EAAAA,SAAS,CAACsC,KAAV,CAAgBgB,UAAhB,GAA6B,SAA7B;AACD;;AAED,SAAStC,cAAT,GAA0B;AACxB,MAAIuC,gBAAgB,GAAGrD,YAAvB;AACAsD,EAAAA,eAAe,CAACD,gBAAD,CAAf;AACAhD,EAAAA,KAAK,GAAGkD,WAAW,CAAC,YAAM;AACxB,QAAIF,gBAAgB,IAAI,CAAxB,EAA2B;AACzBG,MAAAA,aAAa,CAACnD,KAAD,CAAb;AACAoD,MAAAA,UAAU,CAAClD,KAAK,KAAKR,YAAX,CAAV;AACA;AACD;;AACDuD,IAAAA,eAAe,CAAC,EAAED,gBAAH,CAAf;AACD,GAPkB,EAOhB,IAPgB,CAAnB;AAQD;;AAED,SAASC,eAAT,CAAyBI,IAAzB,EAA+B;AAC7B,MAAMC,OAAO,GAAGb,IAAI,CAACc,KAAL,CAAWF,IAAI,GAAG,EAAlB,CAAhB;AACA,MAAMG,OAAO,GAAGH,IAAI,GAAG,EAAvB;AACA7D,EAAAA,SAAS,CAACwB,SAAV,aAAyBsC,OAAzB,cAAoCE,OAApC;AACD;;AAED,SAAS9C,aAAT,GAAyB;AACvByC,EAAAA,aAAa,CAACnD,KAAD,CAAb;AACD;;AAED,SAASW,WAAT,GAAuB;AACrBpB,EAAAA,OAAO,CAACwC,KAAR,CAAcgB,UAAd,GAA2B,QAA3B;AACD;;AAED,SAASnC,kBAAT,CAA4B6C,IAA5B,EAAkC;AAChC7D,EAAAA,KAAK,CAACgD,SAAN,CAAgBE,MAAhB,CAAuB,cAAvB;AACAjD,EAAAA,YAAY,CAACmB,SAAb,GAAyByC,IAAzB;AACD;;AAED,SAAS5C,YAAT,CAAsB6C,KAAtB,EAA6B;AAC3B,MAAI,CAAC3D,OAAL,EAAc;AACZ;AACD;;AACD,MAAM4D,MAAM,GAAGD,KAAK,CAACC,MAArB;;AACA,MAAIA,MAAM,CAACC,OAAP,CAAe,UAAf,CAAJ,EAAgC;AAC9BD,IAAAA,MAAM,CAACb,MAAP;AACA5C,IAAAA,KAAK;AACL2D,IAAAA,WAAW;;AACX,QAAI3D,KAAK,KAAKR,YAAd,EAA4B;AAC1B0D,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD;AACF,GAPD,MAOO,IAAIO,MAAM,CAACC,OAAP,CAAe,OAAf,CAAJ,EAA6B;AAClClD,IAAAA,aAAa;AACb0C,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF;;AAED,SAASS,WAAT,GAAuB;AACrBpE,EAAAA,SAAS,CAACuB,SAAV,GAAsBtB,YAAY,GAAGQ,KAArC;AACD;;AAED,SAASkD,UAAT,CAAoBU,GAApB,EAAyB;AACvB/D,EAAAA,OAAO,GAAG,KAAV;AACAY,EAAAA,WAAW;AACXC,EAAAA,kBAAkB,CAACkD,GAAG,GAAG,UAAH,GAAgB,WAApB,CAAlB;AACD;;AAED,SAAShD,SAAT,GAAqB;AACnBlB,EAAAA,KAAK,CAACgD,SAAN,CAAgBC,GAAhB,CAAoB,cAApB;AACD","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nconst field = document.querySelector(\".game__field\");\nconst fieldRect = field.getBoundingClientRect();\nconst heroWidth = 80;\nconst heroHeight = 115;\nconst gameBtn = document.querySelector(\".header__btn\");\nconst gameTimer = document.querySelector(\".header__time\");\nconst gameScore = document.querySelector(\".header__score\");\nconst ironManCount = 5;\nconst gameDuration = 5;\nconst popUp = document.querySelector(\".pop-up\");\nconst popupMessage = document.querySelector(\".pop-up__message\");\nconst popupRefresh = document.querySelector(\".pop-up__refresh\");\n\nlet started = false; //게임이 시작되었는지, 안됬는지 알수있도록.\nlet timer = undefined; // 얼마만의 시간이 남았는지 기억하기위해.\nlet score = 0; // 최종적인 점수를 기억해야하기때문에.\n\ngameBtn.addEventListener(\"click\", () => {\n  // 게임이 시작되었다면, 중지해야하는 기능을 입력하고,\n  // 게임이 시작되지 않았다면, 게임시작을 위한 세팅을 한다.\n  if (!started) {\n    startGame();\n  } else if (started) {\n    stopGame();\n  }\n});\n\n//게임이 시작되었을 경우 실행되는 함수들\nfunction startGame() {\n  settingGame();\n  showStopBtn();\n  showTimeAndScore();\n  startGameTimer();\n  started = true;\n}\n\n//게임이 중지되었을 경우 실행되는 함수들\nfunction stopGame() {\n  stopGameTimer();\n  hideGameBtn();\n  showPopupWidthText(\"REPLAY?\");\n  started = false;\n}\n\n//아이템(hero)을 클릭시 발생하는 이벤트\nfield.addEventListener(\"click\", onfieldClick);\n\n//리플레이 버튼 클릭시\npopupRefresh.addEventListener(\"click\", () => {\n  startGame();\n  hidePopup();\n});\n\nfunction settingGame() {\n  score = 0;\n  field.innerHTML = \"\";\n  gameScore.innerText = ironManCount;\n  addItem(\"IronMan\", ironManCount, \"IronMan.a44b6e8e.png\");\n  addItem(\"hero\", 3, \"CaptainAmerica.fbcd2c59.png\");\n  addItem(\"hero\", 3, \"SpiderMan.04c09517.png\");\n  addItem(\"hero\", 3, \"Hulk.27b33131.png\");\n}\n\nfunction addItem(className, count, imgPath) {\n  const x1 = 0;\n  const y1 = 0;\n  const x2 = fieldRect.width - heroWidth;\n  const y2 = fieldRect.height - heroHeight;\n  for (let i = 0; i < count; i++) {\n    const item = document.createElement(\"img\");\n    item.setAttribute(\"class\", className);\n    item.setAttribute(\"src\", imgPath);\n    item.style.position = \"absolute\";\n    const x = randomNumber(x1, x2);\n    const y = randomNumber(y1, y2);\n    item.style.left = `${x}px`;\n    item.style.top = `${y}px`;\n    field.appendChild(item);\n  }\n}\n\nfunction randomNumber(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nfunction showStopBtn() {\n  const icon = document.querySelector(\".fas\");\n  icon.classList.add(\"fa-stop\");\n  icon.classList.remove(\"fa-play\");\n  gameBtn.style.visibility = \"visible\";\n}\n\nfunction showTimeAndScore() {\n  gameTimer.style.visibility = \"visible\";\n  gameScore.style.visibility = \"visible\";\n}\n\nfunction startGameTimer() {\n  let remainingTimeSec = gameDuration;\n  updateTimerText(remainingTimeSec);\n  timer = setInterval(() => {\n    if (remainingTimeSec <= 0) {\n      clearInterval(timer);\n      finishGame(score === ironManCount);\n      return;\n    }\n    updateTimerText(--remainingTimeSec);\n  }, 1000);\n}\n\nfunction updateTimerText(time) {\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  gameTimer.innerText = `${minutes}:${seconds}`;\n}\n\nfunction stopGameTimer() {\n  clearInterval(timer);\n}\n\nfunction hideGameBtn() {\n  gameBtn.style.visibility = \"hidden\";\n}\n\nfunction showPopupWidthText(text) {\n  popUp.classList.remove(\"pop-up--hide\");\n  popupMessage.innerText = text;\n}\n\nfunction onfieldClick(event) {\n  if (!started) {\n    return;\n  }\n  const target = event.target;\n  if (target.matches(\".IronMan\")) {\n    target.remove();\n    score++;\n    updateScore();\n    if (score === ironManCount) {\n      finishGame(true);\n    }\n  } else if (target.matches(\".hero\")) {\n    stopGameTimer();\n    finishGame(false);\n  }\n}\n\nfunction updateScore() {\n  gameScore.innerText = ironManCount - score;\n}\n\nfunction finishGame(win) {\n  started = false;\n  hideGameBtn();\n  showPopupWidthText(win ? \"YOU WIN!\" : \"YOU LOSE!\");\n}\n\nfunction hidePopup() {\n  popUp.classList.add(\"pop-up--hide\");\n}\n"]}